{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/linkedout/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/linkedout/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function JobCard(_ref){var id=_ref.id,title=_ref.title,location=_ref.location,deadline=_ref.deadline,contact=_ref.contact,email=_ref.email,archived=_ref.archived;var archivestatus=!archived;function handleApply(){return _handleApply.apply(this,arguments);}function _handleApply(){_handleApply=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.post('https://linkedoutbackend.onrender.com/admin/archive',{id:id,archived:archivestatus});window.location.reload();case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleApply.apply(this,arguments);}var calculateDaysLeft=function calculateDaysLeft(){var today=new Date();var deadlineDate=new Date(deadline);var diffTime=deadlineDate.getTime()-today.getTime();var diffDays=Math.ceil(diffTime/(1000*60*60*24));return diffDays;};var daysLeft=calculateDaysLeft();var admincardClass=daysLeft>7?'job-card':daysLeft>3?'job-cardwarning':daysLeft>0?'job-carddanger':'job-cardexpired';return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/job-applicants/\".concat(id),children:/*#__PURE__*/_jsxs(\"div\",{className:admincardClass,id:\"admincard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Id: \",id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Deadline: \",deadline]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Contact: \",contact]}),archivestatus&&/*#__PURE__*/_jsx(\"button\",{id:\"archive\",onClick:handleApply,children:\" Archive \"}),!archivestatus&&/*#__PURE__*/_jsx(\"button\",{id:\"unarchive\",onClick:handleApply,children:\" Unarchive \"})]})})});}export default JobCard;","map":{"version":3,"names":["React","Link","axios","JobCard","id","title","location","deadline","contact","email","archived","archivestatus","handleApply","post","window","reload","calculateDaysLeft","today","Date","deadlineDate","diffTime","getTime","diffDays","Math","ceil","daysLeft","admincardClass"],"sources":["C:/Projects/linkedout/client/src/components/admin/AdminJobCard.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction JobCard ({\r\n  id,\r\n  title,\r\n  location,\r\n  deadline,\r\n  contact,\r\n  email,\r\n  archived\r\n}) {\r\n  const archivestatus = !archived;\r\n  async function handleApply () {\r\n    axios.post('https://linkedoutbackend.onrender.com/admin/archive', {\r\n      id: id,\r\n      archived: archivestatus\r\n    })\r\n    window.location.reload()\r\n  }\r\n\r\n  const calculateDaysLeft = () => {\r\n    const today = new Date()\r\n    const deadlineDate = new Date(deadline)\r\n    const diffTime = deadlineDate.getTime() - today.getTime()\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n    return diffDays\r\n  }\r\n\r\n  const daysLeft = calculateDaysLeft()\r\n  const admincardClass = daysLeft > 7 ? 'job-card' : daysLeft > 3 ? 'job-cardwarning' : daysLeft > 0 ? 'job-carddanger' : 'job-cardexpired'\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Link to={`/job-applicants/${id}`}>\r\n        <div className={admincardClass} id=\"admincard\">\r\n          <h2>{title}</h2>\r\n          <p>Id: {id}</p>\r\n          <p>Location: {location}</p>\r\n          <p>Deadline: {deadline}</p>\r\n          <p>Contact: {contact}</p>\r\n          {archivestatus && <button id=\"archive\" onClick={handleApply}> Archive </button>}\r\n          {!archivestatus && <button id=\"unarchive\" onClick={handleApply}> Unarchive </button>}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JobCard\r\n"],"mappings":"oPAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,QAAT,MAQG,IAPDC,GAOC,MAPDA,EAOC,CANDC,KAMC,MANDA,KAMC,CALDC,QAKC,MALDA,QAKC,CAJDC,QAIC,MAJDA,QAIC,CAHDC,OAGC,MAHDA,OAGC,CAFDC,KAEC,MAFDA,KAEC,CADDC,QACC,MADDA,QACC,CACD,GAAMC,cAAa,CAAG,CAACD,QAAvB,CADC,QAEcE,YAFd,6IAED,qIACEV,KAAK,CAACW,IAAN,CAAW,qDAAX,CAAkE,CAChET,EAAE,CAAEA,EAD4D,CAEhEM,QAAQ,CAAEC,aAFsD,CAAlE,EAIAG,MAAM,CAACR,QAAP,CAAgBS,MAAhB,GALF,sDAFC,8CAUD,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAMC,MAAK,CAAG,GAAIC,KAAJ,EAAd,CACA,GAAMC,aAAY,CAAG,GAAID,KAAJ,CAASX,QAAT,CAArB,CACA,GAAMa,SAAQ,CAAGD,YAAY,CAACE,OAAb,GAAyBJ,KAAK,CAACI,OAAN,EAA1C,CACA,GAAMC,SAAQ,CAAGC,IAAI,CAACC,IAAL,CAAUJ,QAAQ,EAAI,KAAO,EAAP,CAAY,EAAZ,CAAiB,EAArB,CAAlB,CAAjB,CACA,MAAOE,SAAP,CACD,CAND,CAQA,GAAMG,SAAQ,CAAGT,iBAAiB,EAAlC,CACA,GAAMU,eAAc,CAAGD,QAAQ,CAAG,CAAX,CAAe,UAAf,CAA4BA,QAAQ,CAAG,CAAX,CAAe,iBAAf,CAAmCA,QAAQ,CAAG,CAAX,CAAe,gBAAf,CAAkC,iBAAxH,CAGA,mBACE,kCACE,KAAC,IAAD,EAAM,EAAE,2BAAqBrB,EAArB,CAAR,uBACE,aAAK,SAAS,CAAEsB,cAAhB,CAAgC,EAAE,CAAC,WAAnC,wBACE,oBAAKrB,KAAL,EADF,cAEE,4BAAQD,EAAR,GAFF,cAGE,kCAAcE,QAAd,GAHF,cAIE,kCAAcC,QAAd,GAJF,cAKE,iCAAaC,OAAb,GALF,CAMGG,aAAa,eAAI,eAAQ,EAAE,CAAC,SAAX,CAAqB,OAAO,CAAEC,WAA9B,uBANpB,CAOG,CAACD,aAAD,eAAkB,eAAQ,EAAE,CAAC,WAAX,CAAuB,OAAO,CAAEC,WAAhC,yBAPrB,GADF,EADF,EADF,CAeD,CAED,cAAeT,QAAf"},"metadata":{},"sourceType":"module"}