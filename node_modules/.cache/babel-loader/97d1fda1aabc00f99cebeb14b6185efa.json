{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/linkedout/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/linkedout/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function JobCard(_ref){var id=_ref.id,title=_ref.title,location=_ref.location,deadline=_ref.deadline,contact=_ref.contact,email=_ref.email,hasApplied=_ref.hasApplied,archived=_ref.archived;var calculateDaysLeft=function calculateDaysLeft(){var today=new Date();var deadlineDate=new Date(deadline);var diffTime=deadlineDate.getTime()-today.getTime();var diffDays=Math.ceil(diffTime/(1000*60*60*24));return diffDays;};var daysLeft=calculateDaysLeft();var cardClass=daysLeft>7?'job-card':daysLeft>3?'job-cardwarning':daysLeft>0?'job-carddanger':'job-cardexpired';var value=!hasApplied&&daysLeft>0;function handleApply(){return _handleApply.apply(this,arguments);}function _handleApply(){_handleApply=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.post('https://linkedoutbackend.onrender.com/user/apply',{email:email,id:id});window.location.reload();case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleApply.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/job-description/\".concat(id),children:/*#__PURE__*/_jsxs(\"div\",{className:cardClass,id:\"jobcard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Id: \",id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Deadline: \",deadline]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Contact: \",contact]}),value&&/*#__PURE__*/_jsx(\"button\",{id:\"apply\",onClick:handleApply,children:\" Apply \"})]})})});}export default JobCard;","map":{"version":3,"names":["React","Link","axios","JobCard","id","title","location","deadline","contact","email","hasApplied","archived","calculateDaysLeft","today","Date","deadlineDate","diffTime","getTime","diffDays","Math","ceil","daysLeft","cardClass","value","handleApply","post","window","reload"],"sources":["C:/Projects/linkedout/client/src/components/user/JobCard.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction JobCard ({\r\n  id,\r\n  title,\r\n  location,\r\n  deadline,\r\n  contact,\r\n  email,\r\n  hasApplied,\r\n  archived\r\n}) {\r\n\r\n  \r\n\r\n  const calculateDaysLeft = () => {\r\n    const today = new Date()\r\n    const deadlineDate = new Date(deadline)\r\n    const diffTime = deadlineDate.getTime() - today.getTime()\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n    return diffDays\r\n  }\r\n\r\n  const daysLeft = calculateDaysLeft()\r\n  const cardClass = daysLeft > 7 ? 'job-card' : daysLeft > 3 ? 'job-cardwarning' : daysLeft > 0 ? 'job-carddanger' : 'job-cardexpired'\r\n\r\n\r\n  const value = !hasApplied && daysLeft>0\r\n\r\n  async function handleApply () {\r\n    axios.post('https://linkedoutbackend.onrender.com/user/apply', {\r\n      email: email,\r\n      id: id\r\n    })\r\n    window.location.reload()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Link to={`/job-description/${id}`}>\r\n        <div className={cardClass} id=\"jobcard\">\r\n          <h2>{title}</h2>\r\n          <p>Id: {id}</p>\r\n          <p>Location: {location}</p>\r\n          <p>Deadline: {deadline}</p>\r\n          <p>Contact: {contact}</p>\r\n          {value && <button id=\"apply\" onClick={handleApply}> Apply </button>}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JobCard\r\n"],"mappings":"oPAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,QAAT,MASG,IARDC,GAQC,MARDA,EAQC,CAPDC,KAOC,MAPDA,KAOC,CANDC,QAMC,MANDA,QAMC,CALDC,QAKC,MALDA,QAKC,CAJDC,OAIC,MAJDA,OAIC,CAHDC,KAGC,MAHDA,KAGC,CAFDC,UAEC,MAFDA,UAEC,CADDC,QACC,MADDA,QACC,CAID,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAMC,MAAK,CAAG,GAAIC,KAAJ,EAAd,CACA,GAAMC,aAAY,CAAG,GAAID,KAAJ,CAASP,QAAT,CAArB,CACA,GAAMS,SAAQ,CAAGD,YAAY,CAACE,OAAb,GAAyBJ,KAAK,CAACI,OAAN,EAA1C,CACA,GAAMC,SAAQ,CAAGC,IAAI,CAACC,IAAL,CAAUJ,QAAQ,EAAI,KAAO,EAAP,CAAY,EAAZ,CAAiB,EAArB,CAAlB,CAAjB,CACA,MAAOE,SAAP,CACD,CAND,CAQA,GAAMG,SAAQ,CAAGT,iBAAiB,EAAlC,CACA,GAAMU,UAAS,CAAGD,QAAQ,CAAG,CAAX,CAAe,UAAf,CAA4BA,QAAQ,CAAG,CAAX,CAAe,iBAAf,CAAmCA,QAAQ,CAAG,CAAX,CAAe,gBAAf,CAAkC,iBAAnH,CAGA,GAAME,MAAK,CAAG,CAACb,UAAD,EAAeW,QAAQ,CAAC,CAAtC,CAhBC,QAkBcG,YAlBd,6IAkBD,qIACEtB,KAAK,CAACuB,IAAN,CAAW,kDAAX,CAA+D,CAC7DhB,KAAK,CAAEA,KADsD,CAE7DL,EAAE,CAAEA,EAFyD,CAA/D,EAIAsB,MAAM,CAACpB,QAAP,CAAgBqB,MAAhB,GALF,sDAlBC,8CA0BD,mBACE,kCACE,KAAC,IAAD,EAAM,EAAE,4BAAsBvB,EAAtB,CAAR,uBACE,aAAK,SAAS,CAAEkB,SAAhB,CAA2B,EAAE,CAAC,SAA9B,wBACE,oBAAKjB,KAAL,EADF,cAEE,4BAAQD,EAAR,GAFF,cAGE,kCAAcE,QAAd,GAHF,cAIE,kCAAcC,QAAd,GAJF,cAKE,iCAAaC,OAAb,GALF,CAMGe,KAAK,eAAI,eAAQ,EAAE,CAAC,OAAX,CAAmB,OAAO,CAAEC,WAA5B,qBANZ,GADF,EADF,EADF,CAcD,CAED,cAAerB,QAAf"},"metadata":{},"sourceType":"module"}